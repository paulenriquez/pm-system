<%= simple_form_for @tank, html: {class: 'form-partial'} do |tank| %>
    <div class="alert alert-warning mt-2 p-2 pl-3 pr-3 fs-pt9">
        You won't be able to modify this tank once it has been created
        due to the number of entities that are dependent on this record.
    </div>
    
    <div class="form-group">
        <label class="required">Fuel</label>
        <div class="form-row">
            <div class="col-7">
                <%= 
                    render 'shared/product_selector',
                    show_only: 'Fuel',
                    default_text: 'Select fuel...',
                    html: { id: 'select-product', class: 'full-width mb-2' }
                %>
            </div>
        </div>
        <div class="card">
            <div class="card-header as-input">Alias</div>
            <div class="card-body as-input">
                <div class="fs-pt9">
                    The alias is used to distinguish different tanks of the same fuel product.
                    It follows the format:
                </div>
                <div class="fs-pt9 mt-1 mb-2">
                    <code>
                        UGT {Fuel Primary Symbol}-{Tank Num.}
                    </code>
                </div>
                <div class="fs-pt9 mb-2">
                    This will be generated by the system once a fuel product has been selected.
                </div>

                <div class="card">
                    <div class="card-body as-input">
                        <div v-if="tank.productId == null">
                            <p class="m-0 fs-pt9 text-muted">
                                Select a fuel product from the dropdown above.
                            </p>
                        </div>
                        <div v-else-if="tank.productId != null">
                            <div v-if="nextAlias == null">
                                <div>
                                    <i class="ui tiny active inline loader"></i>
                                    <span class="m-0 ml-1 fs-pt9 text-muted"><em>Please wait...</em></span>
                                </div>
                            </div>
                            <div v-else-if="nextAlias != null" class="">
                                <h6 class="mt-1 mb-1 card-title">{{ nextAlias }}</h6>
                                <p class="mb-1 fs-pt9">
                                    This will be the selected fuel's {{ ordinalizedTankNum }} tank.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="form-row">
        <div class="form-group col-7">
            <label class="required">Capacity</label>
            <div class="input-group">
                <input type="number" class="form-control" min="0" v-model="tank.capacity">
                <div class="input-group-append">
                    <span class="input-group-text">L</span>
                </div>
            </div>
        </div>
    </div>

    <%= tank.submit 'Save', class: 'btn btn-primary' %>

    <!-- HIDDEN FIELDS -->
    <%= tank.hidden_field :product_id, id: 'tank_product_id', 'v-bind:value': 'tank.productId' %>
    <%= tank.hidden_field :capacity,   id: 'tank_capacity',   'v-bind:value': 'tank.capacity'  %>
<% end %>